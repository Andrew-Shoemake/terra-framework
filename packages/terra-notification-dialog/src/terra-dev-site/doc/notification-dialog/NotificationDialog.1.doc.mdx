import { Badge } from 'terra-notification-dialog/package.json?dev-site-package';

import NotificationDialogPropsTable from 'terra-notification-dialog/src/NotificationDialog?dev-site-props-table';
import ContentLayoutAsListPropsTable from 'terra-notification-dialog/src/_ContentLayoutAsList?dev-site-props-table';

import HazardHighVariant from '../example/HazardHighVariant?dev-site-example';
import HazardMediumVariant from '../example/HazardMediumVariant?dev-site-example';
import HazardLowVariant from '../example/HazardLowVariant?dev-site-example';
import ErrorVariant from '../example/ErrorVariant?dev-site-example';
import CustomVariant from '../example/CustomVariant?dev-site-example';

import ContentNotificationDialog from '../example/ContentNotificationDialog?dev-site-example';
import ActionOrderExample from '../example/ActionOrderExample?dev-site-example';
import EmphasizedRejectExample from '../example/EmphasizedRejectExample?dev-site-example';
import NotificationDialogInModalManager from '../example/NotificationDialogInModalManager?dev-site-example';
import NotificationDialogWithLongText from '../example/NotificationDialogWithLongText?dev-site-example';

<Badge />

# Terra Notification Dialog

The `terra-notification-dialog` component renders as a notification using the `terra-abstract-modal` to display a dialog over content. This component should be used to interrupt the task at hand to display a message to a user that requires the user's input or attention. When the user is presented with the dialog, it is paired with an acceptance and an optional rejection action to allow the user to correctly handle the notification. The Notification Dialog should only be used to present the user with critical information.

The Notification Dialog implements the Patient Safety Notification Strategy such that notifications can be presented as `hazardous` or `non-hazardous` interruptions.

- Hazardous notifications should be used to notify the user of critical and/or patient safety related messages. Hazardous notifications dialogs are rigid to provide consistent icon and signal word pairs to prevent accidental confusion of the dialog's severity by the user. There are three severity levels of hazardous notifications: `hazard-high`, `hazard-medium` and `hazard-low`.

- Non-hazardous notification should be used to provide informational awareness about the user or the system. Since non-hazardous notification dialogs are less severe, yet important, there could be several use-cases for displaying non-hazardous dialog to the user. Currently there is one pre-defined non-hazardous dialog variant of `error`.

- Custom notification dialogs can be created, but are **not** recommended. Custom dialogs are classified as non-hazardous notification dialogs and they allow you to customize the signal word and the icon that the dialog displays. By choosing to create a custom Notification Dialog, you are responsible for providing an icon that is themed correctly for the terra-default-theme, orion-fusion-theme, and clinical-lowlight-theme. See Terra's [Theme Strategy Guide](/guides/terra-application/theme-strategy) for more info.

The dialog has the highest z-index of 9000, so it will display above all other content, including modals.


## Getting Started

- Install with [npmjs](https://www.npmjs.com):
  - `npm install terra-notification-dialog`

<!-- AUTO-GENERATED-CONTENT:START Peer Dependencies -->
## Peer Dependencies

This component requires the following peer dependencies be installed in your app for the component to properly function.

| Peer Dependency | Version |
|-|-|
| react | ^16.8.5 |
| react-dom | ^16.8.5 |
| react-intl | ^2.8.0 |
| terra-breakpoints | ^2.19.0 |

<!-- AUTO-GENERATED-CONTENT:END -->

## Usage 
``` jsx
import NotificationDialog from 'terra-notification-dialog';
```

## Component Features

 * [Cross-Browser Support](https://engineering.cerner.com/terra-ui/contributing/terra-ui/component-standards#cross-browser-support)
 * [Responsive Support](https://engineering.cerner.com/terra-ui/contributing/terra-ui/component-standards#responsive-support)
 * [Mobile Support](https://engineering.cerner.com/terra-ui/contributing/terra-ui/component-standards#mobile-support)
 * [LTR/RTL Support](https://engineering.cerner.com/terra-ui/contributing/terra-ui/component-standards#ltr--rtl-support)
 * [Internationalization Support](https://engineering.cerner.com/terra-ui/contributing/terra-ui/component-standards#internationalization-i18n-support)
 * [Localization Support](https://engineering.cerner.com/terra-ui/contributing/terra-ui/component-standards#internationalization-i18n-support)

## Hazardous Notification Dialogs 
<HazardHighVariant
  title="Hazard-High Notification Dialog"
/>
<HazardMediumVariant
  title="Hazard-Medium Notification Dialog"
/>
<HazardLowVariant
  title="Hazard-Low Notification Dialog"
/>

## Non-Hazardous Notification Dialogs 
<ErrorVariant
  title="Notification Dialog"
/>
<CustomVariant />

## Content Layouts
The Notification Dialog provides the following layouts for the `content` prop:

### ContentLayoutAsList
The layout styles list of strings. Import like:
``` jsx
import { ContentLayoutAsList } from 'terra-notification-dialog';
```

<ContentNotificationDialog
  title="Notification Dialog with Detailed Message using ContentLayoutAsList"
  description="This example demonstrates the use for the startMessage, content, and endMessage prop combination. This example also leverages the ContentLayoutAsList component to correctly style the list provided to the content prop."
/>

## Additional Examples

<NotificationDialogInModalManager
  title="NotificationDialogInModal"
  description="Notification Dialog has the highest z-index of 9000. Trigger the Notification Dialog in the modal to see it displays above the modal content."
/>

<NotificationDialogWithLongText
  description="This example show the dialog correctly handles long messages with scrolling."
/>

## Notification Dialog Props Table 

<NotificationDialogPropsTable />

## Content Layouts Props Table

<ContentLayoutAsListPropsTable />

## Testing

The Notification Dialog has the following data attributes available for browser tests:
- The data attribute, `data-terra-notification-dialog` can be used to validate the Notification Dialog exists or has focus
- The data attribute, `data-terra-notification-dialog-button` can be used to select the accept and reject button
  - use `data-terra-notification-dialog-button="accept"` to select the accept button
  - use `data-terra-notification-dialog-button="reject"` to select the reject button

```js
describe('NotificationDialog', () => {
  it('opens the notification dialog', () => {
    browser.click('#triggerNotificationDialog');
    expect(browser.isExisting('[data-terra-notification-dialog]')).to.be.true;
    expect(browser.hasFocus('[data-terra-notification-dialog]')).to.be.true;
    Terra.validates.element('open', { selector: '#root' });
  });

  it('user rejects the notification dialog', () => {
    browser.click('[data-terra-notification-dialog-button="reject"]');
    expect(browser.isExisting('[data-terra-notification-dialog]')).to.be.false;
    Terra.validates.element('closed', { selector: '#root' });
  });
});
```
